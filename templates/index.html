<!-- main.html -->
<!DOCTYPE html>
<html lang="en" class="light">
<!-- Head Section -->

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WordWise — Smart Grammar Helper</title>

  <!--Related Links -->
  <link rel="stylesheet" href="/static/css/style.css">
  <link rel="icon" type="image/png" href="/static/images/logo.jpg">
  <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">

  <!-- Related Script -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Enable Tailwind dark mode -->
  <script>
    tailwind.config = { darkMode: 'class' }
  </script>
</head>

<!-- Body Section -->

<body class="light min-h-screen flex flex-col">

  <!-- Pre-Loader -->
  <div id="preloader">
    <div class="loader">
      <div class="square"></div>
      <div class="square"></div>
      <div class="square"></div>
      <div class="square"></div>
    </div>
  </div>

  <!-- Navbar -->
  <nav id="navbar" class="bg-white/70 dark:bg-gray-900 shadow-md sticky top-0 z-50 transition-colors">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-wrap justify-between items-center py-3">

        <!-- Brand -->
        <a href="/home" class="flex items-center gap-2 group select-none mb-2 md:mb-0">
          <img src="/static/images/logo.jpg" alt="WordWise Logo"
            class="w-[clamp(32px,6vw,48px)] h-[clamp(32px,6vw,48px)] rounded-full logo-animate object-cover border-2 border-gray-300 dark:border-white" />
          <span class="text-[clamp(1.1rem,2vw,1.75rem)] font-extrabold tracking-tight">
            <span class="bg-clip-text text-transparent bg-gradient-to-r from-fuchsia-500 to-pink-500">Word</span>
            <span class="text-gray-900 dark:text-white">Wise</span>
          </span>
        </a>

        <!-- Desktop Nav Links (wraps on medium screens) -->
        <div class="hidden md:flex flex-wrap justify-center flex-1 gap-4 text-[clamp(0.9rem,1.3vw,1.1rem)]">
          <a href="/resource" class="flex items-center gap-1 hover:text-pink-600"><i class="ri-book-line"></i>
            Resources</a>
          <a href="/tools" class="flex items-center gap-1 hover:text-pink-600"><i class="ri-tools-line"></i>
            Tools</a>
          <a href="/blog" class="flex items-center gap-1 hover:text-pink-600"><i class="ri-file-text-line"></i>
            Blog</a>
          <a href="/about" class="flex items-center gap-1 hover:text-pink-600"><i class="ri-information-line"></i>
            About Us</a>
          <a href="https://en.wikipedia.org/wiki/English_grammar" target="_blank"
            class="flex items-center gap-1 hover:text-pink-600">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"
              class="w-[clamp(18px,2vw,22px)] h-[clamp(18px,2vw,22px)] fill-current"><text x="7" y="35" font-size="28"
                font-weight="bold">W</text></svg> Wikipedia
          </a>
          <a href="https://www.dictionary.com/" target="_blank" class="flex items-center gap-1 hover:text-pink-600"><i
              class="ri-book-2-line"></i> Dictionary</a>
          <a href="https://www.grammarly.com/" target="_blank" class="flex items-center gap-1 hover:text-pink-600"><i
              class="ri-check-double-line"></i> Grammarly</a>
        </div>

        <!-- Right Side: Buttons + Hamburger -->
        <div class="flex items-center gap-3">
          <!-- Theme Toggle -->
          <button id="themeToggle"
            class="px-3 py-1 rounded-lg bg-pink-500 text-white hover:bg-pink-600 flex items-center gap-2">
            <i class="ri-moon-clear-line"></i> <span class="hidden sm:inline">Toggle</span>
          </button>



          <!-- Hamburger (mobile only) -->
          <button id="menu-toggle" class="md:hidden text-3xl focus:outline-none">☰</button>
        </div>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden flex-col gap-4 p-4 bg-white dark:bg-gray-900 shadow-md">
      <a href="/resource" class="flex items-center gap-1 hover:text-pink-600"><i class="ri-book-line"></i>
        Resources</a>
      <a href="/tools" class="flex items-center gap-1 hover:text-pink-600"><i class="ri-tools-line"></i> Tools</a>
      <a href="/blog" class="flex items-center gap-1 hover:text-pink-600"><i class="ri-file-text-line"></i> Blog</a>
      <a href="/about" class="flex items-center gap-1 hover:text-pink-600"><i class="ri-information-line"></i> About
        Us</a>
      <a href="https://en.wikipedia.org/wiki/English_grammar" target="_blank"
        class="flex items-center gap-1 hover:text-pink-600">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="w-5 h-5 fill-current"><text x="7" y="35"
            font-size="28" font-weight="bold">W</text></svg> Wikipedia
      </a>
      <a href="https://www.dictionary.com/" target="_blank" class="flex items-center gap-1 hover:text-pink-600"><i
          class="ri-book-2-line"></i> Dictionary</a>
      <a href="https://www.grammarly.com/" target="_blank" class="flex items-center gap-1 hover:text-pink-600"><i
          class="ri-check-double-line"></i> Grammarly</a>
    </div>
  </nav>

  <script>
    document.getElementById("menu-toggle").addEventListener("click", () => {
      document.getElementById("mobile-menu").classList.toggle("hidden");
    });
  </script>

  <!-- Hero Section -->
  <section class="w-full flex flex-col items-center justify-center text-center py-12">
    <h1 class="text-4xl md:text-5xl font-extrabold mb-6">
      Welcome to <span
        class="bg-clip-text text-transparent bg-gradient-to-r from-yellow-300 to-pink-500">WordWise</span>
    </h1>
  </section>

  <!-- Main Content -->
  <div class="flex-1 flex items-center justify-center p-6">
    <div class="flex flex-col gap-6 w-3/4">

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Input Box -->
        <div class="flex flex-col gap-2">
          <textarea id="inputBox"
            class="w-full h-96 p-4 text-lg rounded-2xl shadow-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-pink-400 bg-white/80 backdrop-blur-md dark:bg-gray-800 dark:text-white"
            placeholder="Start typing..."></textarea>

          <!-- Live Feedback -->
          <div id="liveFeedback" class="flex justify-between text-sm text-gray-600 dark:text-gray-300">
            <span id="wordCount">Words: 0</span>
            <span id="charCount">Characters: 0</span>
            <span id="errorCount">Errors: 0</span>
            <span id="readingGrade">Reading Grade: N/A</span>
          </div>
        </div>

        <!-- Output Box -->
        <div class="relative">
          <div id="outputBox"
            class="w-full h-96 p-4 text-lg rounded-2xl shadow-xl border border-gray-300 bg-white/90 backdrop-blur-md overflow-y-auto whitespace-pre-wrap dark:bg-gray-700 transition-all">
          </div>
          <button id="copyBtn" title="Copy text"
            class="absolute top-2 right-2 w-8 h-8 flex items-center justify-center bg-gray-300/70 rounded-full hover:bg-gray-400/80 transition-all dark:bg-white/20 dark:hover:bg-white/30">
            <i class="ri-file-copy-line text-gray-800 dark:text-white"></i>
          </button>
          <button id="analyticsBtn" title="Show Analytics"
            class="absolute bottom-10 right-2 w-8 h-8 flex items-center justify-center 
                bg-gray-300/50 rounded-full hover:bg-gray-400/80 transition-all dark:bg-white/20 dark:hover:bg-white/30">
            <i class="ri-bar-chart-line text-gray-800 dark:text-white"></i>
          </button>

        </div>
      </div>

      <!-- Suggestions Box -->
      <div id="suggestionsBox"
        class="p-4 mt-2 rounded-xl shadow-lg border border-gray-300 bg-white/90 dark:bg-gray-800 min-h-[60px] text-sm overflow-auto">
        <p class="text-gray-500 dark:text-gray-400">Suggestions will appear here...</p>
      </div>

    </div>
  </div>

  <!-- Drawing Pad Section -->
  <div id="canvasContainer"
    class="mt-6 relative w-full max-w-[1100px] mx-auto border border-gray-300 rounded-xl shadow-md overflow-hidden transition-all duration-300"
    style="min-height: 250px; height: clamp(250px, 60vh, 600px);">

    <!-- Main Drawing Canvas -->
    <canvas id="freedomBoard" class="bg-white w-full h-full cursor-crosshair"></canvas>

    <!-- Grid Canvas -->
    <canvas id="gridCanvas" class="absolute inset-0 w-full h-full pointer-events-none"></canvas>

    <!-- Default Background -->
    <img id="defaultBg" src="/static/images/canvas.png" alt="Board Background"
      class="absolute inset-0 w-full h-full object-cover opacity-20 pointer-events-none">

    <!-- Top Right Controls -->
    <div class="absolute top-3 right-3 flex gap-2 z-20">
      <!-- Undo Button -->
      <button id="undoBtn" class="p-2 bg-blue-500/70 dark:bg-blue-600/70 rounded-full shadow 
              hover:bg-blue-600/90 dark:hover:bg-blue-700/90 transition w-8 h-8 flex items-center justify-center"
        title="Undo (Ctrl+Z)">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" />
        </svg>
      </button>

      <!-- Redo Button -->
      <button id="redoBtn" class="p-2 bg-blue-500/70 dark:bg-blue-600/70 rounded-full shadow 
              hover:bg-blue-600/90 dark:hover:bg-blue-700/90 transition w-8 h-8 flex items-center justify-center"
        title="Redo (Ctrl+Y)">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M21 10h-10a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6" />
        </svg>
      </button>

      <!-- Clear All -->
      <button id="clearBoard" class="p-2 bg-red-500/70 dark:bg-red-600/70 rounded-full shadow 
              hover:bg-red-600/90 dark:hover:bg-red-700/90 transition w-8 h-8 flex items-center justify-center"
        title="Clear Canvas">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
        </svg>
      </button>

      <!-- Fullscreen Button -->
      <button id="fullscreenBtn" class="p-2 bg-purple-500/70 dark:bg-purple-600/70 rounded-full shadow 
              hover:bg-purple-600/90 dark:hover:bg-purple-700/90 transition w-8 h-8 flex items-center justify-center"
        title="Toggle Fullscreen">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4" />
        </svg>
      </button>

      <!-- Download Button -->
      <button id="downloadCanvas" class="p-2 bg-green-500/70 dark:bg-green-600/70 rounded-full shadow 
              hover:bg-green-600/90 dark:hover:bg-green-700/90 transition w-8 h-8 flex items-center justify-center"
        title="Download Canvas">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
        </svg>
      </button>
    </div>

    <!-- Tool Buttons (Left Side Vertical Bar) -->
    <div class="absolute top-3 left-3 flex flex-col gap-2 z-20">

      <!-- Circular Color Picker Button -->
      <input type="color" id="colorPicker" value="#111111"
        class="w-8 h-8 cursor-pointer border-2 border-gray-400 dark:border-gray-500"
        style="-webkit-appearance: none; -moz-appearance: none; appearance: none; width: 32px; height: 32px; border-radius: 50%; padding: 0; background: none; cursor: pointer;"
        title="Pick a color" />
      <style>
        #colorPicker::-webkit-color-swatch-wrapper {
          padding: 0;
          border-radius: 50%;
        }

        #colorPicker::-webkit-color-swatch {
          border: none;
          border-radius: 50%;
        }

        #colorPicker::-moz-color-swatch {
          border: none;
          border-radius: 50%;
        }
      </style>

      <!-- Pencil Tool -->
      <button class="toolBtn p-2 bg-gray-200/70 dark:bg-gray-700/70 rounded-full shadow 
              hover:bg-gray-300 dark:hover:bg-gray-600 transition w-8 h-8 flex items-center justify-center"
        data-tool="pencil" title="Pencil">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-black dark:text-white" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
        </svg>
      </button>

      <!-- Marker Tool -->
      <button class="toolBtn p-2 bg-gray-200/70 dark:bg-gray-700/70 rounded-full shadow 
              hover:bg-gray-300 dark:hover:bg-gray-600 transition w-8 h-8 flex items-center justify-center"
        data-tool="marker" title="Marker">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-black dark:text-white" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
        </svg>
      </button>

      <!-- Paint Brush Tool -->
      <button class="toolBtn p-2 bg-gray-200/70 dark:bg-gray-700/70 rounded-full shadow 
              hover:bg-gray-300 dark:hover:bg-gray-600 transition w-8 h-8 flex items-center justify-center"
        data-tool="paint" title="Paint Brush">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-black dark:text-white" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />
        </svg>
      </button>

      <!-- Eraser Tool -->
      <button class="toolBtn p-2 bg-gray-200/70 dark:bg-gray-700/70 rounded-full shadow 
              hover:bg-gray-300 dark:hover:bg-gray-600 transition w-8 h-8 flex items-center justify-center"
        data-tool="eraser" title="Eraser">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-black dark:text-white" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
        </svg>
      </button>

      <!-- Shapes -->
      <div class="relative">
        <button id="shapesBtn" class="p-2 bg-gray-200/70 dark:bg-gray-700/70 rounded-full shadow 
                hover:bg-gray-300 dark:hover:bg-gray-600 transition w-8 h-8 flex items-center justify-center"
          title="Shapes">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-black dark:text-white" fill="none"
            viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
          </svg>
        </button>

        <!-- Shape Menu - Interactive Scalable Shapes -->
        <div id="shapeMenu" class="hidden absolute left-12 top-0 flex flex-wrap gap-2 bg-white dark:bg-gray-800 
                    p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 w-48">
          <button
            class="shapeOption p-2 bg-gray-100 dark:bg-gray-700 rounded shadow hover:bg-pink-100 dark:hover:bg-pink-900 transition"
            data-shape="rectangle" title="Rectangle (Drag to resize & rotate)">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="4" y="7" width="16" height="10" />
            </svg>
          </button>
          <button
            class="shapeOption p-2 bg-gray-100 dark:bg-gray-700 rounded shadow hover:bg-pink-100 dark:hover:bg-pink-900 transition"
            data-shape="square" title="Square (Drag to resize & rotate)">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="6" y="6" width="12" height="12" />
            </svg>
          </button>
          <button
            class="shapeOption p-2 bg-gray-100 dark:bg-gray-700 rounded shadow hover:bg-pink-100 dark:hover:bg-pink-900 transition"
            data-shape="circle" title="Circle (Drag to resize)">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="8" />
            </svg>
          </button>
          <button
            class="shapeOption p-2 bg-gray-100 dark:bg-gray-700 rounded shadow hover:bg-pink-100 dark:hover:bg-pink-900 transition"
            data-shape="ellipse" title="Ellipse (Drag to resize & rotate)">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <ellipse cx="12" cy="12" rx="10" ry="6" />
            </svg>
          </button>
          <button
            class="shapeOption p-2 bg-gray-100 dark:bg-gray-700 rounded shadow hover:bg-pink-100 dark:hover:bg-pink-900 transition"
            data-shape="triangle" title="Triangle (Drag to resize & rotate)">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 4 L20 20 L4 20 Z" />
            </svg>
          </button>
          <button
            class="shapeOption p-2 bg-gray-100 dark:bg-gray-700 rounded shadow hover:bg-pink-100 dark:hover:bg-pink-900 transition"
            data-shape="star" title="Star (Drag to resize & rotate)">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2 L14.5 9.5 L22 10 L16.5 15 L18 22 L12 18 L6 22 L7.5 15 L2 10 L9.5 9.5 Z" />
            </svg>
          </button>
          <button
            class="shapeOption p-2 bg-gray-100 dark:bg-gray-700 rounded shadow hover:bg-pink-100 dark:hover:bg-pink-900 transition"
            data-shape="hexagon" title="Hexagon (Drag to resize & rotate)">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2 L20 7 L20 17 L12 22 L4 17 L4 7 Z" />
            </svg>
          </button>
          <button
            class="shapeOption p-2 bg-gray-100 dark:bg-gray-700 rounded shadow hover:bg-pink-100 dark:hover:bg-pink-900 transition"
            data-shape="pentagon" title="Pentagon (Drag to resize & rotate)">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2 L22 9 L18 21 L6 21 L2 9 Z" />
            </svg>
          </button>
          <button
            class="shapeOption p-2 bg-gray-100 dark:bg-gray-700 rounded shadow hover:bg-pink-100 dark:hover:bg-pink-900 transition"
            data-shape="arrow" title="Arrow (Drag to resize & rotate)">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 4 L12 16 M12 16 L7 11 M12 16 L17 11" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <button
            class="shapeOption p-2 bg-gray-100 dark:bg-gray-700 rounded shadow hover:bg-pink-100 dark:hover:bg-pink-900 transition"
            data-shape="line" title="Line (Drag to resize & rotate)">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="4" y1="20" x2="20" y2="4" />
            </svg>
          </button>
        </div>
      </div>

      <!-- Background Upload -->
      <button id="bgBtn" class="p-2 bg-gray-200/70 dark:bg-gray-700/70 rounded-full shadow 
              hover:bg-gray-300 dark:hover:bg-gray-600 transition w-8 h-8 flex items-center justify-center relative"
        title="Upload Background">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-black dark:text-white" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
        <input type="file" id="bgUpload" accept="image/*"
          class="absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer">
      </button>

      <!-- Grid Toggle -->
      <button id="gridToggle" class="p-2 bg-gray-200/70 dark:bg-gray-700/70 rounded-full shadow 
              hover:bg-gray-300 dark:hover:bg-gray-600 transition w-8 h-8 flex items-center justify-center"
        title="Toggle Grid">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-black dark:text-white" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zM14 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z" />
        </svg>
      </button>

      <!-- Delete Confirmation Modal -->
      <div id="deleteModal" class="fixed inset-0 flex items-center justify-center bg-black/40 hidden z-50">
        <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg text-center max-w-sm mx-4">
          <p class="mb-4 text-gray-800 dark:text-gray-200">
            Are you sure you want to clear the canvas?
          </p>
          <div class="flex justify-center gap-4">
            <button id="confirmDelete" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">Delete</button>
            <button id="cancelDelete" class="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 
                    dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Drawing Pad Script -->
  <script src="/static/js/canvas.js"></script>





  <!-- Features Section -->
  <section class="max-w-7xl mx-auto px-6 py-12 flex flex-col gap-12">

    <!-- Feature 1: Image Left, Text Right -->
    <div
      class="flex flex-col md:flex-row items-center gap-8 feature-card cursor-pointer transition-transform duration-300">
      <img src="/static/images/feature1.jpg" alt="Feature 1"
        class="w-full md:w-1/2 h-64 object-cover rounded-xl shadow-lg feature-img">
      <div class="md:w-1/2">
        <h3 class="text-2xl font-bold mb-4">Smart Grammar Detection</h3>
        <p class="text-gray-700 dark:text-gray-300">Instantly detect grammar and spelling mistakes as you type,
          giving
          you real-time feedback to improve your writing efficiently.</p>
      </div>
    </div>

    <!-- Feature 2: Text Left, Image Right -->
    <div
      class="flex flex-col md:flex-row-reverse items-center gap-8 feature-card cursor-pointer transition-transform duration-300">
      <img src="/static/images/feature2.jpg" alt="Feature 2"
        class="w-full md:w-1/2 h-64 object-cover rounded-xl shadow-lg feature-img">
      <div class="md:w-1/2">
        <h3 class="text-2xl font-bold mb-4">Helpful Suggestions</h3>
        <p class="text-gray-700 dark:text-gray-300">Receive actionable suggestions for better word choices,
          sentence
          structure, and readability, making your text professional and polished.</p>
      </div>
    </div>

    <!-- Feature 3: Image Left, Text Right -->
    <div
      class="flex flex-col md:flex-row items-center gap-8 feature-card cursor-pointer transition-transform duration-300">
      <img src="/static/images/feature3.jpg" alt="Feature 3"
        class="w-full md:w-1/2 h-64 object-cover rounded-xl shadow-lg feature-img">
      <div class="md:w-1/2">
        <h3 class="text-2xl font-bold mb-4">Multi-Platform Access</h3>
        <p class="text-gray-700 dark:text-gray-300">Use WordWise anywhere, whether on desktop or mobile, and
          continue
          your work seamlessly without losing progress.</p>
      </div>
    </div>

    <!-- Feature 4: Text Left, Image Right -->
    <div
      class="flex flex-col md:flex-row-reverse items-center gap-8 feature-card cursor-pointer transition-transform duration-300">
      <img src="/static/images/feature4.jpg" alt="Feature 4"
        class="w-full md:w-1/2 h-64 object-cover rounded-xl shadow-lg feature-img">
      <div class="md:w-1/2">
        <h3 class="text-2xl font-bold mb-4">Fast & Secure</h3>
        <p class="text-gray-700 dark:text-gray-300">Experience lightning-fast text analysis while ensuring your
          data
          stays private and secure at all times.</p>
      </div>
    </div>

  </section>

  <!-- Footer -->
  <footer class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-300 mt-12 transition-colors">
    <div class="max-w-7xl mx-auto px-6 py-12 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8">

      <!-- Contact -->
      <div>
        <h3 class="text-lg font-semibold mb-4">Contact Us</h3>
        <p>Hack & Chat</p>
        <p>WhatsApp: [Your Business Number]</p>
        <a href="mailto:support@wordwise.com" target="_blank">
          support@wordwise.com
        </a>

      </div>

      <!-- Information -->
      <div>
        <h3 class="text-lg font-semibold mb-4">Information</h3>
        <ul class="space-y-2">
          <li><a href="/faqs" class="hover:text-pink-500 transition-colors">FAQs</a></li>
          <li><a href="/reviews" class="hover:text-pink-500 transition-colors">Testimonials</a></li>
        </ul>
      </div>

      <!-- Customer Service -->
      <div>
        <h3 class="text-lg font-semibold mb-4">User Care</h3>
        <ul class="space-y-2">
          <li><a href="/reviews" class="hover:text-pink-500 transition-colors">Reviews</a></li>
          <li><a href="/home" class="hover:text-pink-500 transition-colors">Site</a></li>
        </ul>
      </div>

      <!-- Extras -->
      <div>
        <h3 class="text-lg font-semibold mb-4">Extras</h3>
        <ul class="space-y-2">
          <li><a href="/blog" class="hover:text-pink-500 transition-colors">Blogs</a></li>
          <li><a href="/resource" class="hover:text-pink-500 transition-colors">Resources</a></li>
          <li><a href="/tools" class="hover:text-pink-500 transition-colors">Tools</a></li>
          <li><a href="/about" class="hover:text-pink-500 transition-colors">About Us</a></li>
        </ul>
      </div>
    </div>

    <!-- Bottom Bar -->
    <div
      class="border-t border-gray-300 dark:border-gray-700 py-6 px-6 flex flex-col md:flex-row justify-between items-center transition-colors">
      <p class="text-sm">© 2025 WordWise. All rights reserved.</p>

      <!-- Social Links -->
      <div class="flex gap-4 mt-4 md:mt-0">
        <a href="https://www.whatsapp.com/" target="_blank" rel="noopener noreferrer"
          class="w-8 h-8 flex items-center justify-center bg-green-500 rounded-full hover:scale-110 transition"><i
            class="ri-whatsapp-line text-white"></i></a>
        <a href="https://www.instagram.com/" target="_blank" rel="noopener noreferrer"
          class="w-8 h-8 flex items-center justify-center bg-pink-500 rounded-full hover:scale-110 transition"><i
            class="ri-instagram-line text-white"></i></a>
        <a href="https://www.youtube.com/" target="_blank" rel="noopener noreferrer"
          class="w-8 h-8 flex items-center justify-center bg-red-500 rounded-full hover:scale-110 transition"><i
            class="ri-youtube-line text-white"></i></a>
        <a href="https://www.snapchat.com/" target="_blank" rel="noopener noreferrer"
          class="w-8 h-8 flex items-center justify-center bg-yellow-400 rounded-full hover:scale-110 transition"><i
            class="ri-snapchat-line text-white"></i></a>
        <a href="https://www.tiktok.com/" target="_blank" rel="noopener noreferrer"
          class="w-8 h-8 flex items-center justify-center bg-black rounded-full hover:scale-110 transition"><i
            class="ri-tiktok-line text-white"></i></a>
      </div>
    </div>
  </footer>

  <!-- Analytics Modal (replace your existing one) -->
  <div id="analyticsModal" class="fixed inset-0 z-[100] hidden">
    <!-- Dimmed backdrop -->
    <div class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>

    <!-- Centered modal -->
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div
        class="w-full max-w-3xl rounded-2xl bg-white dark:bg-gray-900 shadow-2xl border border-gray-200 dark:border-gray-700">
        <!-- Header -->
        <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
          <h3 class="text-lg font-semibold">Grammar Analytics</h3>
          <button id="closeAnalytics" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800">
            <i class="ri-close-line"></i>
          </button>
        </div>

        <!-- Controls + Chart area -->
        <div class="p-4 flex flex-col gap-4">
          <div class="flex gap-2">
            <button id="barGraph" class="px-3 py-1 rounded-md bg-pink-500 text-white hover:bg-pink-600">Bar</button>
            <button id="lineGraph" class="px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600">Line</button>
            <button id="pieGraph"
              class="px-3 py-1 rounded-md bg-emerald-500 text-white hover:bg-emerald-600">Pie</button>
          </div>

          <!-- Modernized chart card (no overflow) -->
          <div id="graphContainer"
            class="relative w-full h-[400px] p-6 bg-gray-50 dark:bg-gray-800/50 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-inner">
            <canvas id="graphCanvas" class="w-full h-full"></canvas>
            <div id="noDataMsg"
              class="absolute inset-0 hidden items-center justify-center text-gray-500 dark:text-gray-400">
              No data available. Start typing to see analytics.
            </div>
          </div>

          <!-- Summary Metrics -->
          <div class="grid grid-cols-3 gap-4 text-center mt-2">
            <div class="p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800/30">
              <p class="text-xs text-red-600 dark:text-red-400 font-medium">Errors</p>
              <p id="metric-errors" class="text-xl font-bold text-red-700 dark:text-red-300">0</p>
            </div>
            <div class="p-3 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800/30">
              <p class="text-xs text-blue-600 dark:text-blue-400 font-medium">Words</p>
              <p id="metric-words" class="text-xl font-bold text-blue-700 dark:text-blue-300">0</p>
            </div>
            <div
              class="p-3 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800/30">
              <p class="text-xs text-emerald-600 dark:text-emerald-400 font-medium">Chars</p>
              <p id="metric-chars" class="text-xl font-bold text-emerald-700 dark:text-emerald-300">0</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scroll to Top Button -->
  <button id="scrollTopBtn" title="Go to top">
    <i class="ri-arrow-up-line"></i>
  </button>

  <script>
    const scrollBtn = document.getElementById("scrollTopBtn");

    scrollBtn.addEventListener("click", (e) => {
      e.preventDefault(); // Prevent any default jump behavior

      // Smooth scroll using requestAnimationFrame
      const startPosition = window.scrollY;
      const duration = 600; // in ms
      let startTime = null;

      function scrollAnimation(currentTime) {
        if (!startTime) startTime = currentTime;
        const timeElapsed = currentTime - startTime;
        const run = ease(timeElapsed, startPosition, -startPosition, duration);
        window.scrollTo(0, run);
        if (timeElapsed < duration) requestAnimationFrame(scrollAnimation);
      }

      // Ease function for smoothness
      function ease(t, b, c, d) {
        t /= d / 2;
        if (t < 1) return c / 2 * t * t + b;
        t--;
        return -c / 2 * (t * (t - 2) - 1) + b;
      }

      requestAnimationFrame(scrollAnimation);
    });
  </script>

  <!-- Main Script -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // ---------- ELEMENTS ----------
      const els = {
        body: document.body,

        input: document.getElementById("inputBox"),
        output: document.getElementById("outputBox"),
        suggestions: document.getElementById("suggestionsBox"),
        themeToggle: document.getElementById("themeToggle"),
        copyBtn: document.getElementById("copyBtn"),
        wordCount: document.getElementById("wordCount"),
        charCount: document.getElementById("charCount"),
        errorCount: document.getElementById("errorCount"),
        readingGrade: document.getElementById("readingGrade"),
        scrollTopBtn: document.getElementById("scrollTopBtn"),
        analyticsBtn: document.getElementById("analyticsBtn"),
        analyticsModal: document.getElementById("analyticsModal"),
        closeAnalytics: document.getElementById("closeAnalytics"),
        typedText: document.getElementById("typedText"),
        preloader: document.getElementById("preloader"),
        graphCanvas: document.getElementById("graphCanvas")
      };

      let chart, debounceTimer, currentChartType = "bar";
      const ignored = new Set();

      // ---------- THEME ----------
      if (localStorage.theme === "dark") els.body.classList.add("dark");
      if (els.themeToggle) {
        els.themeToggle.onclick = () => {
          els.body.classList.toggle("dark");
          localStorage.theme = els.body.classList.contains("dark") ? "dark" : "light";
        };
      }



      // ---------- PRELOADER ----------
      window.addEventListener("load", () => els.preloader?.classList.add("hidden"));

      // ---------- PAUSE BG ANIM ----------
      document.addEventListener("visibilitychange", () =>
        els.body.style.animationPlayState = document.hidden ? "paused" : "running"
      );

      // ---------- GRAMMAR CHECK ----------
      async function checkGrammar(text) {
        if (!text.trim()) {
          updateUI("", [], 0, "N/A");
          return;
        }
        try {
          const res = await fetch("https://api.languagetool.org/v2/check", {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: new URLSearchParams({ language: "en-US", text })
          });
          const data = await res.json();

          let highlighted = text, suggestions = [];
          data.matches.forEach(m => {
            const mistake = text.substr(m.offset, m.length);
            if (ignored.has(mistake.toLowerCase())) return;
            highlighted = highlighted.replace(mistake, `<span class='error'>${mistake}</span>`);
            if (m.replacements?.length) {
              suggestions.push({ mistake, options: m.replacements.slice(0, 3).map(r => r.value) });
            }
          });

          // reading grade
          const words = text.trim().split(/\s+/).length || 1;
          const sentences = (text.match(/[.!?]+/g) || []).length || 1;
          const syllables = text.split(/\s+/).reduce((t, w) => t + countSyllables(w), 0);
          const grade = (0.39 * (words / sentences) + 11.8 * (syllables / words) - 15.59).toFixed(1);

          updateUI(highlighted, suggestions, suggestions.length, grade);
        } catch {
          updateUI(text, [], 0, "N/A", "⚠️ Error fetching suggestions");
        }
      }

      function updateUI(highlighted, suggestions, errors, grade, fallbackMsg) {
        if (els.output) els.output.innerHTML = highlighted;
        if (els.errorCount) els.errorCount.textContent = `Errors: ${errors}`;
        if (els.readingGrade) els.readingGrade.textContent = `Reading Grade: ${grade}`;
        if (els.suggestions) {
          if (fallbackMsg) return els.suggestions.innerHTML = `<p>${fallbackMsg}</p>`;
          els.suggestions.innerHTML = suggestions.length
            ? suggestions.map(s => `
            <div class="suggestion-item flex justify-between items-center mb-1 p-2 rounded bg-gray-100 dark:bg-gray-700">
              <div>
                <strong class="text-red-600">${s.mistake}</strong> →
                ${s.options.map(opt => `
                  <span class="suggestion-option bg-green-100 dark:bg-green-800 px-2 py-1 rounded cursor-pointer"
                        data-mistake="${s.mistake}" data-replacement="${opt}">${opt}</span>`).join(" ")}
              </div>
              <button class="clear-option bg-red-500 text-white px-2 py-1 text-xs rounded"
                      data-mistake="${s.mistake}">Clear</button>
            </div>`).join("")
            : `<p class='text-gray-500 dark:text-gray-400'>${errors ? "No more suggestions." : "No issues detected ✅"}</p>`;

          // attach events
          els.suggestions.querySelectorAll(".suggestion-option").forEach(el =>
            el.onclick = () => {
              els.input.value = els.input.value.replace(el.dataset.mistake, el.dataset.replacement);
              mirrorText(); checkGrammar(els.input.value);
            }
          );
          els.suggestions.querySelectorAll(".clear-option").forEach(btn =>
            btn.onclick = () => {
              ignored.add(btn.dataset.mistake.toLowerCase());
              checkGrammar(els.input.value);
            }
          );
        }
      }

      // ---------- INPUT ----------
      function mirrorText() { if (els.output) els.output.textContent = els.input.value; }
      if (els.input) {
        els.input.oninput = () => {
          const text = els.input.value;
          mirrorText();
          els.wordCount.textContent = `Words: ${text.trim() ? text.trim().split(/\s+/).length : 0}`;
          els.charCount.textContent = `Characters: ${text.length}`;
          clearTimeout(debounceTimer);
          debounceTimer = setTimeout(() => checkGrammar(text), 400);
          if (chart) renderChart(currentChartType);
        };
      }

      function countSyllables(word) {
        word = word.toLowerCase();
        if (word.length <= 3) return 1;
        word = word.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/, "").replace(/^y/, "");
        return (word.match(/[aeiouy]{1,2}/g) || []).length || 1;
      }

      // ---------- COPY ----------
      els.copyBtn?.addEventListener("click", () => {
        const originalHTML = els.copyBtn.innerHTML; // store original content (icon or text)
        navigator.clipboard.writeText(els.output.innerText).then(() => {
          els.copyBtn.innerHTML = "✓"; // show checkmark
          setTimeout(() => {
            els.copyBtn.innerHTML = originalHTML; // restore original
          }, 900);
        });
      });

      // ---------- SCROLL TO TOP ----------
      if (els.scrollTopBtn) {
        window.addEventListener("scroll", () => els.scrollTopBtn.style.display = window.scrollY > 200 ? "flex" : "none");
        els.scrollTopBtn.onclick = () => window.scrollTo({ top: 0, behavior: "smooth" });
      }

      // ---------- CHART ----------
      function getStats() {
        const t = els.input.value.trim();
        return {
          words: t ? t.split(/\s+/).length : 0,
          chars: t.length,
          errors: els.output.querySelectorAll(".error").length
        };
      }
      function renderChart(type) {
        currentChartType = type;
        const { errors, words, chars } = getStats();

        // Update summary metrics
        document.getElementById("metric-errors").textContent = errors;
        document.getElementById("metric-words").textContent = words;
        document.getElementById("metric-chars").textContent = chars;

        if (chart) chart.destroy();

        const ctx = els.graphCanvas.getContext("2d");

        // Setup Gradients
        const gradRed = ctx.createLinearGradient(0, 0, 0, 400);
        gradRed.addColorStop(0, 'rgba(239, 68, 68, 0.8)');
        gradRed.addColorStop(1, 'rgba(239, 68, 68, 0.1)');

        const gradBlue = ctx.createLinearGradient(0, 0, 0, 400);
        gradBlue.addColorStop(0, 'rgba(59, 130, 246, 0.8)');
        gradBlue.addColorStop(1, 'rgba(59, 130, 246, 0.1)');

        const gradGreen = ctx.createLinearGradient(0, 0, 0, 400);
        gradGreen.addColorStop(0, 'rgba(16, 185, 129, 0.8)');
        gradGreen.addColorStop(1, 'rgba(16, 185, 129, 0.1)');

        const isDark = els.body.classList.contains("dark");
        const textColor = isDark ? "#94a3b8" : "#64748b";
        const gridColor = isDark ? "rgba(255,255,255,0.05)" : "rgba(0,0,0,0.05)";

        chart = new Chart(ctx, {
          type,
          data: {
            labels: ["Errors", "Words", "Chars"],
            datasets: [{
              label: 'Text Statistics',
              data: [errors, words, chars],
              backgroundColor: type === 'pie' ? ["#ef4444", "#3b82f6", "#10b981"] : [gradRed, gradBlue, gradGreen],
              borderColor: ["#ef4444", "#3b82f6", "#10b981"],
              borderWidth: 2,
              borderRadius: type === 'bar' ? 8 : 0,
              tension: 0.4, // For line chart smoothness
              fill: true   // For line chart area
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: type === 'pie',
                labels: { color: textColor }
              }
            },
            scales: type === "pie" ? {} : {
              x: {
                grid: { display: false },
                ticks: { color: textColor }
              },
              y: {
                beginAtZero: true,
                grid: { color: gridColor },
                ticks: { color: textColor }
              }
            },
            interaction: {
              intersect: false,
              mode: 'index',
            }
          }
        });
      }
      ["barGraph", "pieGraph", "lineGraph"].forEach(id => {
        document.getElementById(id)?.addEventListener("click", () => renderChart(id.replace("Graph", "").toLowerCase()));
      });

      // ---------- ANALYTICS MODAL ----------
      els.analyticsBtn?.addEventListener("click", () => { els.analyticsModal.classList.remove("hidden"); renderChart(currentChartType); });
      els.closeAnalytics?.addEventListener("click", () => els.analyticsModal.classList.add("hidden"));
    });
  </script>

</body>

</html>